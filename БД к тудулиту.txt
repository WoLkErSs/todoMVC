CREATE DATABASE IF NOT IXISTS `to_do_list`;

USE `to_do_list`;

CREATE TABLE IF NOT EXISTS `users`(`id` MEDIUMINT AUTO_INCREMENT PRIMARY KEY,`login` VARCHAR(255) NOT NULL, `password` VARCHAR(25) NOT NULL,`email` VARCHAR(255) NOT NULL);

CREATE TABLE IF NOT EXISTS `to_do_lists`(`id` MEDIUMINT AUTO_INCREMENT PRIMARY KEY,`name` VARCHAR(255) NOT NULL, `user_id` MEDIUMINT NOT  NULL);

CREATE TABLE `tasks`(id MEDIUMINT AUTO_INCREMENT PRIMARY KEY, `priority` MEDIUMINT ,task VARCHAR(255), status BOOLEAN DEFAULT false, todo_id MEDIUMINT NOT NULL, FOREIGN KEY (todo_id) REFERENCES to_do_lists(id) ON UPDATE CASCADE ON DELETE CASCADE);